#### 概述：Autopsy 工作流程 (Overview: The Autopsy Workflow)

Autopsy 是一款功能全面的开源数字取证平台。其标准工作流程通常遵循以下五个核心步骤，从案件创建到最终报告的生成。

1. **创建/打开案件 (Create/Open a Case)**: 为即将调查的数据源设置一个案件环境。
    
2. **选择数据源 (Select a Data Source)**: 将要分析的磁盘镜像或其他数据源添加到案件中。
    
3. **配置摄取模块 (Configure Ingest Modules)**: 运行特定的分析插件从数据源中提取证据。
    
4. **检查痕迹 (Examine Artifacts)**: 在 Autopsy 的用户界面中分析由摄取模块提取出的数据。
    
5. **创建报告 (Create a Report)**: 将分析发现的结果导出为可读的报告。
    

#### 步骤 1 & 2: 案件管理与数据源 (Steps 1 & 2: Case Management & Data Sources)

##### 1. 案件管理 (Case Management)

创建新案件 (Creating a New Case)

当你启动 Autopsy 时，选择 “新建案件” (New Case) 选项来开始一次新的调查。你需要填写以下信息：

- **案件名称 (Case Name)**: 为你的案件指定一个描述性名称。
    
- **基本目录 (Base Directory)**: 存储所有与该案件相关文件的根目录。
    
- **案件类型 (Case Type)**:
    
    - **单用户 (Single-user)**: 案件文件存储在本地，供单个分析师使用。
        
    - **多用户 (Multi-user)**: 案件托管在服务器上，允许多个分析师协同审查。
        

打开现有案件 (Opening an Existing Case)

选择 “打开案件” (Open Case) 选项来继续之前的调查。

- **案件文件**: Autopsy 的案件文件使用 `.aut` 扩展名。导航到案件目录并选择此文件即可。
    

> **注意**：如果 Autopsy 启动时无法找到原始的磁盘镜像文件，会弹出警告。你可以重新指定镜像文件的当前位置，或者选择忽略并继续分析已在案件中处理过的数据。

##### 2. 添加数据源 (Adding a Data Source)

案件打开后，通过点击 **“添加数据源” (Add Data Source)** 按钮来导入证据。Autopsy 支持多种数据源和磁盘镜像格式：

- **支持的磁盘镜像格式**:
    
    - **原始单文件**: 如 `*.img`, `*.dd`, `*.raw`, `*.bin`
        
    - **原始分割文件**: 如 `*.001`, `*.aa`
        
    - **EnCase 格式**: 如 `*.e01`
        
    - **虚拟机磁盘**: 如 `*.vmdk`, `*.vhd`
        

> **注意**：如果镜像是被分割成多个文件（例如 `image.e01`, `image.e02`...），你只需选择第一个文件（`.e01`），Autopsy 会自动处理剩余的部分。

#### 步骤 3: 配置摄取模块 (Step 3: Configuring Ingest Modules)

**摄取模块 (Ingest Modules)** 是 Autopsy 的核心分析引擎，本质上是用于分析和检索特定类型数据的插件。

**配置时机**:

1. **添加数据源时**: 在添加数据源的向导流程中，Autopsy 会提供一个界面让你选择要运行的摄取模块。
    
2. **添加数据源后**: 你也可以在数据源加载完毕后，右键点击该数据源，选择 **“运行摄取模块” (Run Ingest Modules)** 来随时启动分析。
    

**运行与结果**:

- 摄取模块的运行需要时间，你可以在界面右下角的 **状态区域 (Status Area)** 跟踪进度。
    
- 分析完成后，所有提取出的结果都会被组织并显示在左侧 **树形浏览器 (Tree Viewer)** 的 **结果 (Results)** 节点下。
    
- 某些摄取模块（如“有趣文件查找”）旁边会有一个黄色三角形图标，表示它们有可以自定义的“每次运行设置”。
    

#### 步骤 4: 检查结果 - 用户界面详解 (Step 4: Examining Results - The User Interface)

Autopsy 的用户界面由 5 个主要区域构成，协同工作以展示分析结果。

##### 1. 树形浏览器 (Tree Viewer)

位于界面左侧，是导航案件数据的主要区域，包含五个顶层节点：

- **数据源 (Data Sources)**: 以文件系统树状结构展示原始数据。
    
- **视图 (Views)**: 根据文件类型、MIME 类型、文件大小等不同属性对文件进行分类展示。
    
- **结果 (Results)**: 展示所有摄取模块分析得出的证据，是调查的核心区域。
    
- **标签 (Tags)**: 显示被分析师手动标记的文件或结果。
    
- **报告 (Reports)**: 存放已生成的分析报告。
    

##### 2. 结果查看器 (Result Viewer)

位于界面中央，当你从树形浏览器中选择任何项目（文件、文件夹、结果等）时，这里会以表格或缩略图的形式显示该项目下的内容列表。

- **表格列的含义**:
    
    - **S (Score)**: 标记分数。红色感叹号表示“值得注意”，黄色三角表示“可疑”。
        
    - **C (Comment)**: 评论。黄色页面图标表示该项目有分析师添加的评论。
        
    - **O (Occurrences)**: 出现次数。显示该文件在过去案例中的出现次数（需要配置中央存储库）。
        

> **提示**：在 **视图 (Views)** 节点下，要注意 **按扩展名** 和 **按 MIME 类型** 分类的区别。攻击者可能会通过修改文件扩展名来伪装文件（例如将 `.exe` 改为 `.jpg`），文件会按扩展名被错误分类，但按其真实的 MIME 类型则会正确分类。

##### 3. 内容查看器 (Content Viewer)

位于界面右下角，当你从 **结果查看器** 中选中一个具体文件时，此区域会显示该文件的详细信息，例如文本内容、十六进制视图、元数据等。

##### 4. 关键词搜索 (Keyword Search)

位于界面右上角，允许分析师执行临时的（AD-HOC）关键词搜索，快速在数据源中查找特定信息。

##### 5. 状态区域 (Status Area)

位于界面右下角，当摄取模块运行时，这里会显示进度条。你可以点击进度条查看详细信息，或点击旁边的 `X` 图标来取消正在运行的任务。

#### 步骤 5: 报告与可视化 (Step 5: Reporting and Visualization)

##### 1. 数据源摘要 (Data Source Summary)

提供关于数据源的九个不同类别的汇总信息，让你对总体发现有一个宏观的了解。

##### 2. 生成报告 (Generating Reports)

你可以将调查发现生成为多种格式（如 HTML、Excel 等）的报告。报告会包含结果查看器中列出的所有信息。

> **提示**：Autopsy 对系统资源消耗较大。在低配置的机器上，直接浏览大量结果可能导致系统卡顿。一个有效的策略是：先让 Autopsy 运行摄取模块并生成一份完整的报告，然后关闭 Autopsy，直接通过查阅报告文件（如 HTML 报告）来进行后续的详细分析。

##### 3. 可视化工具：时间轴 (Visualization Tool: Timeline)

时间轴工具可以将文件系统活动、Web 活动等按时间顺序可视化，帮助分析师理清事件发生的顺序。

- **界面区域**:
    
    1. **过滤器 (Filters)**: 在左侧，用于缩小显示的事件范围。
        
    2. **事件 (Events)**: 在中央，以不同模式显示事件。
        
    3. **文件/内容 (File/Content)**: 在底部，显示选中事件的详细信息。
        
- **三种查看模式**:
    
    1. **计数 (Counts)**: 以条形图显示单位时间内的事件数量。
        
    2. **详情 (Details)**: 以折叠的方式聚合显示事件信息，避免界面混乱。
        
    
    - **绿色加号图标**: 展开聚合的事件簇。
        
    - **红色减号图标**: 折叠事件。
        
    
    3. **列表 (List)**: 以表格形式显示所有事件。
        
- **事件操作图标**:
    
    - **图钉图标 (Pin)**: 将一组事件“固定”，使其移动到视图的独立部分以便持续关注。
        
    - **眼睛图标 (Hide)**: 暂时隐藏一组事件。若要取消隐藏，可在视图中右键单击并选择“取消隐藏”。